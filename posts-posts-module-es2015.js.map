{"version":3,"sources":["./src/app/posts/posts-detail/posts-detail.component.html","./src/app/posts/posts.component.html","./src/app/posts/posts-detail/posts-detail.component.scss","./src/app/posts/posts-detail/posts-detail.component.ts","./src/app/posts/posts.component.scss","./src/app/posts/posts.component.ts","./src/app/posts/posts.module.ts","./src/app/posts/service/posts.service.ts","./src/app/rest/model/rest-options.ts","./src/app/rest/service/rest-data.service.ts"],"names":[],"mappings":"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","file":"posts-posts-module-es2015.js","sourcesContent":["export default \"<app-content-separator>\\n\\n    <div class=\\\"card main-content\\\">\\n        <div class=\\\"card-header bg-white\\\">\\n            <button class=\\\"btn btn-sm btn-secondary mr-1 float-right\\\"\\n                    (click)=\\\"showHomePage()\\\">\\n                Back\\n            </button>\\n            <strong>Post</strong>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n            <dt>{{post?.title}}</dt>\\n            <dd>\\n                <div [innerHtml]=\\\"post?.body\\\"></div>\\n            </dd>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"card context\\\">\\n        <div class=\\\"card-header bg-white\\\">\\n            <strong>Context</strong>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n\\n        </div>\\n    </div>\\n</app-content-separator>\"","export default \"<app-content-separator>\\n    <div class=\\\"card mt-3 main-content\\\">\\n        <div class=\\\"card-header bg-white\\\">\\n            Home\\n        </div>\\n        <div class=\\\"card-body\\\">\\n            <div class=\\\"posts-article-wrapper\\\"\\n                 *ngFor=\\\"let post of posts$ | async\\\"\\n                 (click)=\\\"showDetails(post)\\\">\\n                <article>\\n                    {{post.title}}\\n                </article>\\n            </div>\\n        </div>\\n    </div>\\n</app-content-separator>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Bvc3RzL3Bvc3RzLWRldGFpbC9wb3N0cy1kZXRhaWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { PostsService } from '../service/posts.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Subscription, throwError } from 'rxjs';\nimport { Post } from '../model/post';\nimport { catchError } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-posts-detail',\n  templateUrl: './posts-detail.component.html',\n  styleUrls: ['./posts-detail.component.scss']\n})\nexport class PostsDetailComponent implements OnInit, OnDestroy {\n  post: Post;\n  routeSubscription$: Subscription;\n\n  constructor(\n    private postsService: PostsService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.routeSubscription$ = this.route.params.subscribe((params: Params) => {\n      const postId = +params['postId'];\n      this.loadPost(postId);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.routeSubscription$) {\n      this.routeSubscription$.unsubscribe();\n    }\n  }\n\n  loadPost(postId: number) {\n    this.postsService.getPostById(postId).pipe(\n\n      catchError(error => {\n        this.post = null;\n        return throwError(error);\n      }))\n\n      .subscribe((post: Post) => {\n        this.post = post;\n      });\n  }\n\n  showHomePage() {\n    this.router.navigate(['../../'], { relativeTo: this.route });\n  }\n\n}\n","export default \"article {\\n  padding: 10px;\\n  font-weight: bold;\\n}\\n\\n.posts-article-wrapper {\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n\\n.posts-article-wrapper:hover {\\n  background-color: #f3f3f3;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9naXRodWIvd29ya3NwYWNlL3NyYy9hcHAvcG9zdHMvcG9zdHMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3Bvc3RzL3Bvc3RzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxnQ0FBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxlQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wb3N0cy9wb3N0cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFydGljbGV7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnBvc3RzLWFydGljbGUtd3JhcHBlcntcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlNjtcbn1cblxuLnBvc3RzLWFydGljbGUtd3JhcHBlcjpob3ZlcntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmM2YzO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn0iLCJhcnRpY2xlIHtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5wb3N0cy1hcnRpY2xlLXdyYXBwZXIge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlNjtcbn1cblxuLnBvc3RzLWFydGljbGUtd3JhcHBlcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { PostsService } from './service/posts.service';\nimport { Observable } from 'rxjs';\nimport { Post } from './model/post';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-posts',\n  templateUrl: './posts.component.html',\n  styleUrls: ['./posts.component.scss']\n})\nexport class PostsComponent implements OnInit {\n  posts$: Observable<Post[]>;\n  constructor(\n    private postsService: PostsService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.posts$ = this.postsService.getPosts();\n  }\n\n  showDetails(post: Post) {\n    this.router.navigate(['posts', post.id], { relativeTo: this.route });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PostsComponent } from './posts.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PostsDetailComponent } from './posts-detail/posts-detail.component';\nimport { PostsService } from './service/posts.service';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  { path: '', component: PostsComponent },\n  { path: 'posts/:postId', component: PostsDetailComponent }\n];\n\n@NgModule({\n  declarations: [PostsComponent, PostsDetailComponent],\n  imports: [\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  providers: [PostsService]\n})\nexport class PostsModule { }\n","import { Injectable } from '@angular/core';\nimport { PostsModule } from '../posts.module';\nimport { RestOptions } from '../../rest/model/rest-options';\nimport { Observable } from 'rxjs';\nimport { Post } from '../model/post';\nimport { RestDataService } from '../../rest/service/rest-data.service';\n\n@Injectable()\nexport class PostsService {\n\n\n  constructor(private dataService: RestDataService) { }\n\n  getPosts(): Observable<Post[]> {\n    const options = <RestOptions>{\n      link: { href: '/posts', method: RestOptions.GET }\n    };\n\n    return this.dataService.request<Post[]>(options);\n  }\n\n  getPostById(postId: number): Observable<Post> {\n    const options = <RestOptions>{\n      link: { href: '/posts/{postId}', method: RestOptions.GET },\n      properties: { postId }\n    }\n\n    return this.dataService.request<Post>(options);\n  }\n}\n","\nexport class RestOptions {\n\n    public static readonly GET: string = 'GET';\n    public static readonly POST: string = 'POST';\n    public static readonly PUT: string = 'PUT';\n    public static readonly DELETE: string = 'DELETE';\n\n    //Url & the Http Method GET,POST,PUT,DELETE etc.\n    public link: {\n        href: string;\n        method: string;\n    };\n    //Optional request body for POST,PUT methods\n    public requestBody?: any;\n    //Url params to be replaced\n    public properties?: { [key: string]: any };\n    //Set to true if loader should not be shown when REST call is executed\n    public noLoader?: boolean = false;\n}\n","import { Injectable } from '@angular/core';\nimport { RestOptions } from '../model/rest-options';\nimport { Observable, throwError } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { catchError, finalize } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RestDataService {\n  private _restCounter: number = 0;\n  get restCounter() { return this._restCounter };\n\n  constructor(private http: HttpClient) { }\n\n\n  request<T>(options: RestOptions): Observable<T> {\n    this.validateLink(options);\n    options.link.href = environment.baseUrl + this.replaceProperties(options.link.href, options.properties);\n    return this.fireRequest<T>(options);\n  }\n\n  private validateLink(options: RestOptions) {\n    if (!options || !options.link) throw new Error(\"Link is NULL\");\n  }\n\n  private replaceProperties(url: string, properties: { [key: string]: any }) {\n    if (!url) return url;\n    var url = url.split('?')[0];\n    url = this.replace(url, properties);\n\n    var queryParams = url.split('?')[1] || '';\n    queryParams = this.replace(queryParams, properties).replace(/[^=&]+=(&|$)/g, \"\").replace(/&$/, \"\");\n\n    if (!!queryParams) return `${url}?${queryParams}`;\n    return url;\n  }\n\n  private replace(template: string, properties: { [key: string]: any }): string {\n    return template.replace(/{[^{}]+}/g, function (key) {\n      return properties[key.replace(/[{}]+/g, \"\")] == null ? \"\" : properties[key.replace(/[{}]+/g, \"\")];\n    });\n  }\n\n  private fireRequest<T>(options: RestOptions): Observable<T> {\n\n    if (!options.noLoader) {\n      this._restCounter++;\n    }\n\n    return this.http.request<T>(\n      options.link.method,\n      options.link.href, {\n      body: options.requestBody\n    }).pipe(\n\n      catchError(error => {\n        return throwError(error);\n      }),\n\n      finalize(() => {\n        if (!options.noLoader) {\n          this._restCounter--;\n        }\n      }));\n  }\n}\n"],"sourceRoot":"webpack:///"}